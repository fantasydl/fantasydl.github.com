<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>测试触摸屏</title>
	<style type="text/css">
		* {
		  padding: 0;
		  margin: 0;
		  box-sizing: border-box;
		  text-decoration: none;
		}
		.overlay-pics-show {
		  position: absolute;
		  top: 0;
		  left: 0;
		  width: 375px;
		  height: 627px;
		  background-color: rgba(0,0,0,.8); 
		  overflow: hidden;
		  z-index: 9999;
		}
		.overlay-pics-show .overlay-pics-list {
		  position: absolute;
		  width: 900px;
		  height: 100%;
		}
		.overlay-pics-show .overlay-pics-list li {
		  position: relative;
		  float: left;
		  width: 375px;
		  height: 100%;
		}
		.overlay-pics-show .overlay-pics-list li img {
		  position: absolute;
		  top: 50%;
		  left: 50%;
		  width: 100%;
		  max-height: 100%;
		  transform: translate(-50%,-50%);
		  -webkit-transform: translate(-50%,-50%);
		  -o-transform: translate(-50%,-50%);
		  -ms-transform: translate(-50%,-50%);
		  -m-transform: translate(-50%,-50%);
		}
		.overlay-pics-list-icons {
		  position: absolute;
		  left: 50%;
		  bottom: 10px;
		  transform: translateX(-50%);
		  -webkit-transform: translateX(-50%);
		  -o-transform: translateX(-50%);
		  -ms-transform: translateX(-50%);
		  -m-transform: translateX(-50%);  
		}
		.overlay-pics-list-icons li {
		  float: left;
		  margin-right: 5px;
		}
		.overlay-pics-list-icons li:last-of-type {
		  margin-right: 0;
		}
		.overlay-pics-list-icons li span {
		  display: block;
		  width: 10px;
		  height: 10px;
		  background-color: rgba(0,0,0,.8); 
		  border: 2px solid #FFF;
		  border-radius: 50%;
		}
		.overlay-pics-list-icons li.on span {
		  background-color: #FFF;
		}
	</style>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript">
			// 大图展示
			function msedown(event) {
			    var mseStartX = event.changedTouches[0],
			        nowLeft = $('#lagShowList').position().left;
			    
			
			    $('#lagShowList').unbind('touchmove');
			    $('#lagShowList').bind('touchmove',function(event){
			        msemove(event,mseStartX,nowLeft)
			    });
			}
			
			function msemove(event,posX,posLeft) {
			    var mseNowX = event.originalEvent.changedTouches[0],
			        mseMoveDis = mseNowX.screenX - posX.screenX,
			        screenWidth = $(document).width();
			    var node = '<li>' + posLeft + mseMoveDis + '</li>';
			    $('#showList').append(node);
			
			    $('#lagShowList').unbind('touchend');
			    $('#lagShowList').bind('touchend',function(e){
			        mseup(mseMoveDis);
			    });
			
			    $('#lagShowList').css('left',posLeft + mseMoveDis);
			}
			
			function mseup(moveX) {
			    var nowLeft = $('#lagShowList').position().left,
			        screenWidth = $(document).width(),
			        listLength = $('#lagShowList li').length,
			        maxWidth = (listLength - 1) * screenWidth;
			
			    if(nowLeft >= screenWidth/2){
			        $('#lagShowList').css('left',0);
			        $('#showIconsList li').removeClass('on');
			        $('#showIconsList li').eq(0).addClass('on');
			    }else if(nowLeft <= -maxWidth - screenWidth/2){
			        $('#lagShowList').css('left',-maxWidth);
			        $('#showIconsList li').removeClass('on');
			        $('#showIconsList li').eq(listLength - 1).addClass('on');
			    }else{
			        var index = Math.floor(Math.abs(nowLeft)/screenWidth + 0.5);
			        var toLeft = index * screenWidth;
			        $('#lagShowList').css('left',-toLeft);
			        $('#showIconsList li').removeClass('on');
			        $('#showIconsList li').eq(index).addClass('on');
			    }
			}
	</script>
</head>
<body>
	<div class="overlay-pics-show" id="lagShow">
        <ul class="overlay-pics-list" id="lagShowList" ontouchstart="msedown(event)">
        	<li><img src="http://a0.att.hudong.com/68/18/300533975678133717188480667_950.jpg"></li>
        	<li><img src="http://tupian.enterdesk.com/2013/lxy/12/7/3/9.jpg"></li>
        </ul>
        <ul class="overlay-pics-list-icons" id="showIconsList">
        	<li class="on"><span></span></li>
        	<li><span></span></li>
        </ul>
    </div>
    <ul id="showList"></ul>
</body>
</html>
